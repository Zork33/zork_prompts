{
  "meta": {
    "format": "AP3D",
    "version": "1.0",
    "author": "Nastya/Квартиры",
    "created_at": "2025-10-22",
    "source": "2D floor plan (7_1_2Д.png)",
    "notes": "Сечение плана на Z=1200 мм. Высота комнаты 2530 мм (от чистого пола до низа штукатурки). Стяжка T=60 мм. Верхи дверей +2040 мм от чистого пола."
  },
  "units": "m",
  "coord_sys": "RH_Z_UP",
  "tolerance": 0.001,
  "levels": [
    {
      "id": "L1",
      "name": "Level 1 (Квартира)",
      "elevation_z": 0.0,
      "default_ceiling_height": 2.53,
      "slab_thickness_m": 0.06
    }
  ],
  "materials": {
    "mat_wall_ext": {
      "name": "Наружная стена",
      "color": "#d9d9d9",
      "thickness_m": 0.25
    },
    "mat_wall_int": {
      "name": "Внутренняя стена",
      "color": "#eeeeee",
      "thickness_m": 0.12
    },
    "mat_floor": {
      "name": "Пол (чистый)",
      "color": "#c8b7a6"
    },
    "mat_window": {
      "name": "Остекление",
      "color": "#88bbee",
      "opacity": 0.3
    },
    "mat_door": {
      "name": "Дверь",
      "color": "#8b6f47"
    }
  },
  "rooms": [
    {
      "id": "R_LIVING",
      "name": "Гостиная/Спальня",
      "level_id": "L1",
      "area_m2": 22.58,
      "polygon": [
        [0.0, 0.0],
        [6.25, 0.0],
        [6.25, 2.4],
        [0.0, 2.4]
      ],
      "height": 2.53,
      "floor_material_id": "mat_floor",
      "tags": ["day", "main"]
    },
    {
      "id": "R_MIDDLE",
      "name": "Средняя зона",
      "level_id": "L1",
      "area_m2": 14.4,
      "polygon": [
        [0.0, 2.4],
        [6.25, 2.4],
        [6.25, 3.4],
        [0.0, 3.4]
      ],
      "height": 2.53,
      "floor_material_id": "mat_floor",
      "tags": ["transition"]
    },
    {
      "id": "R_BEDROOM",
      "name": "Спальня (верхняя)",
      "level_id": "L1",
      "area_m2": 14.12,
      "polygon": [
        [2.1, 3.4],
        [6.25, 3.4],
        [6.25, 5.39],
        [2.1, 5.39]
      ],
      "height": 2.53,
      "floor_material_id": "mat_floor",
      "tags": ["night"]
    },
    {
      "id": "R_BATH_SMALL",
      "name": "Санузел №1 (маленький)",
      "level_id": "L1",
      "area_m2": 3.16,
      "polygon": [
        [2.1, 3.4],
        [2.9, 3.4],
        [2.9, 4.3],
        [2.1, 4.3]
      ],
      "height": 2.53,
      "floor_material_id": "mat_floor",
      "tags": ["wet"]
    },
    {
      "id": "R_BATH_MAIN",
      "name": "Санузел №2 (ванная)",
      "level_id": "L1",
      "area_m2": 3.69,
      "polygon": [
        [4.25, 4.8],
        [6.25, 4.8],
        [6.25, 5.65],
        [4.25, 5.65]
      ],
      "height": 2.53,
      "floor_material_id": "mat_floor",
      "tags": ["wet"]
    },
    {
      "id": "R_CLOSET",
      "name": "Кладовая/Гардероб",
      "level_id": "L1",
      "area_m2": 5.32,
      "polygon": [
        [4.25, 5.65],
        [6.25, 5.65],
        [6.25, 7.11],
        [4.25, 7.11]
      ],
      "height": 2.53,
      "floor_material_id": "mat_floor",
      "tags": ["storage"]
    },
    {
      "id": "R_KITCHEN",
      "name": "Кухня",
      "level_id": "L1",
      "area_m2": 6.45,
      "polygon": [
        [0.0, 2.4],
        [1.1, 2.4],
        [1.1, 3.5],
        [0.0, 3.5]
      ],
      "height": 2.53,
      "floor_material_id": "mat_floor",
      "tags": ["wet", "day"]
    },
    {
      "id": "R_ENTRY",
      "name": "Прихожая/Входная зона",
      "level_id": "L1",
      "area_m2": 1.88,
      "polygon": [
        [0.0, 3.2],
        [0.855, 3.2],
        [0.855, 4.4],
        [0.0, 4.4]
      ],
      "height": 2.53,
      "floor_material_id": "mat_floor",
      "tags": ["circulation"]
    },
    {
      "id": "R_STAIRS",
      "name": "Лестничная клетка/Холл",
      "level_id": "L1",
      "area_m2": 2.0,
      "polygon": [
        [1.1, 2.8],
        [2.1, 2.8],
        [2.1, 3.8],
        [1.1, 3.8]
      ],
      "height": 2.53,
      "floor_material_id": "mat_floor",
      "tags": ["circulation"]
    }
  ],
  "walls": [
    {
      "id": "W_EXT_S",
      "name": "Южная наружная стена (низ)",
      "level_id": "L1",
      "start": [0.0, 0.0],
      "end": [6.25, 0.0],
      "height": 2.53,
      "thickness": 0.25,
      "material_id": "mat_wall_ext",
      "reference_line": "center"
    },
    {
      "id": "W_EXT_N",
      "name": "Северная наружная стена",
      "level_id": "L1",
      "start": [4.25, 7.11],
      "end": [6.25, 7.11],
      "height": 2.53,
      "thickness": 0.25,
      "material_id": "mat_wall_ext",
      "reference_line": "center"
    },
    {
      "id": "W_EXT_E",
      "name": "Восточная наружная стена",
      "level_id": "L1",
      "start": [6.25, 0.0],
      "end": [6.25, 7.11],
      "height": 2.53,
      "thickness": 0.25,
      "material_id": "mat_wall_ext",
      "reference_line": "center"
    },
    {
      "id": "W_EXT_W",
      "name": "Западная наружная стена (верх)",
      "level_id": "L1",
      "start": [0.0, 3.4],
      "end": [0.0, 7.11],
      "height": 2.53,
      "thickness": 0.25,
      "material_id": "mat_wall_ext",
      "reference_line": "center"
    },
    {
      "id": "W_INT_KITCHEN",
      "name": "Стена кухня-гостиная",
      "level_id": "L1",
      "start": [1.1, 2.4],
      "end": [1.1, 3.5],
      "height": 2.53,
      "thickness": 0.12,
      "material_id": "mat_wall_int",
      "reference_line": "center"
    },
    {
      "id": "W_INT_MIDDLE",
      "name": "Разделительная стена (средняя)",
      "level_id": "L1",
      "start": [2.1, 3.4],
      "end": [2.1, 5.39],
      "height": 2.53,
      "thickness": 0.12,
      "material_id": "mat_wall_int",
      "reference_line": "center"
    },
    {
      "id": "W_INT_BATH",
      "name": "Стена санузлов",
      "level_id": "L1",
      "start": [2.9, 3.4],
      "end": [2.9, 4.3],
      "height": 2.53,
      "thickness": 0.12,
      "material_id": "mat_wall_int",
      "reference_line": "center"
    },
    {
      "id": "W_INT_BEDROOM",
      "name": "Стена спальня-верх",
      "level_id": "L1",
      "start": [4.25, 4.8],
      "end": [4.25, 7.11],
      "height": 2.53,
      "thickness": 0.12,
      "material_id": "mat_wall_int",
      "reference_line": "center"
    }
  ],
  "openings": {
    "doors": [
      {
        "id": "D_ENTRY",
        "name": "Входная дверь",
        "target": {
          "type": "wall_id",
          "id": "W_EXT_S"
        },
        "position_along_wall_m": 0.5,
        "width": 0.9,
        "height": 2.04,
        "sill_z": 0.0,
        "swing": {
          "hinge": "left",
          "opens_to_room_id": "R_LIVING",
          "angle_deg": 90
        },
        "material_id": "mat_door",
        "notes": "Верх двери +2040 мм от чистого пола (с учётом стяжки 60 мм)"
      },
      {
        "id": "D_KITCHEN",
        "name": "Дверь кухня-гостиная",
        "target": {
          "type": "wall_id",
          "id": "W_INT_KITCHEN"
        },
        "position_along_wall_m": 0.35,
        "width": 0.8,
        "height": 2.0,
        "sill_z": 0.0,
        "swing": {
          "hinge": "right",
          "opens_to_room_id": "R_LIVING",
          "angle_deg": 90
        }
      },
      {
        "id": "D_BEDROOM",
        "name": "Дверь в спальню (верхнюю)",
        "target": {
          "type": "wall_id",
          "id": "W_INT_MIDDLE"
        },
        "position_along_wall_m": 1.2,
        "width": 0.8,
        "height": 2.0,
        "sill_z": 0.0,
        "swing": {
          "hinge": "right",
          "opens_to_room_id": "R_BEDROOM",
          "angle_deg": 90
        }
      },
      {
        "id": "D_BATH1",
        "name": "Дверь в санузел №1",
        "target": {
          "type": "wall_id",
          "id": "W_INT_BATH"
        },
        "position_along_wall_m": 0.35,
        "width": 0.7,
        "height": 2.0,
        "sill_z": 0.0,
        "swing": {
          "hinge": "left",
          "opens_to_room_id": "R_BATH_SMALL",
          "angle_deg": 90
        }
      },
      {
        "id": "D_BATH2",
        "name": "Дверь в ванную",
        "target": {
          "type": "wall_id",
          "id": "W_INT_BEDROOM"
        },
        "position_along_wall_m": 0.6,
        "width": 0.8,
        "height": 2.0,
        "sill_z": 0.0,
        "swing": {
          "hinge": "left",
          "opens_to_room_id": "R_BATH_MAIN",
          "angle_deg": 90
        }
      }
    ],
    "windows": [
      {
        "id": "WN_LIVING_S",
        "name": "Окно в гостиную (юг)",
        "target": {
          "type": "wall_id",
          "id": "W_EXT_S"
        },
        "position_along_wall_m": 3.2,
        "width": 1.2,
        "height": 1.57,
        "sill_z": 0.48,
        "material_id": "mat_window",
        "notes": "Низ подоконника +480 мм, верх окна +2050 мм от чистого пола"
      },
      {
        "id": "WN_BEDROOM_E",
        "name": "Окно в спальню (восток)",
        "target": {
          "type": "wall_id",
          "id": "W_EXT_E"
        },
        "position_along_wall_m": 4.5,
        "width": 1.2,
        "height": 1.57,
        "sill_z": 0.48,
        "material_id": "mat_window"
      },
      {
        "id": "WN_CLOSET_E",
        "name": "Окно в кладовую (восток)",
        "target": {
          "type": "wall_id",
          "id": "W_EXT_E"
        },
        "position_along_wall_m": 6.3,
        "width": 1.0,
        "height": 1.57,
        "sill_z": 0.48,
        "material_id": "mat_window"
      }
    ]
  },
  "objects": [
    {
      "id": "OBJ_SINK_KITCHEN",
      "category": "sink",
      "name": "Кухонная мойка",
      "size": [0.6, 0.6, 0.9],
      "pose": {
        "position": [0.5, 2.7, 0.0],
        "rotation_euler_deg": [0, 0, 0]
      },
      "room_id": "R_KITCHEN"
    },
    {
      "id": "OBJ_STOVE",
      "category": "stove",
      "name": "Плита",
      "size": [0.6, 0.6, 0.9],
      "pose": {
        "position": [0.5, 3.0, 0.0],
        "rotation_euler_deg": [0, 0, 0]
      },
      "room_id": "R_KITCHEN"
    },
    {
      "id": "OBJ_TOILET_1",
      "category": "toilet",
      "name": "Унитаз (маленький санузел)",
      "size": [0.4, 0.6, 0.7],
      "pose": {
        "position": [2.35, 3.6, 0.0],
        "rotation_euler_deg": [0, 0, 0]
      },
      "room_id": "R_BATH_SMALL"
    },
    {
      "id": "OBJ_SINK_BATH",
      "category": "sink",
      "name": "Раковина (ванная)",
      "size": [0.55, 0.45, 0.85],
      "pose": {
        "position": [5.2, 5.1, 0.0],
        "rotation_euler_deg": [0, 0, 0]
      },
      "room_id": "R_BATH_MAIN"
    },
    {
      "id": "OBJ_BATHTUB",
      "category": "bathtub",
      "name": "Ванна",
      "size": [1.5, 0.7, 0.6],
      "pose": {
        "position": [5.2, 5.4, 0.0],
        "rotation_euler_deg": [0, 0, 0]
      },
      "room_id": "R_BATH_MAIN"
    }
  ],
  "defaults": {
    "construction": {
      "floor_thickness_m": 0.06,
      "slab_thickness_m": 0.06,
      "staircase_width_m": 1.0
    },
    "projections": {
      "plan_cut_height_z": 1.2,
      "plan_notes": "Сечение на высоте 1200 мм (выше подоконника окна на 720 мм)",
      "section_planes": [
        {
          "id": "SEC_A",
          "name": "Разрез А (через спальню и гостиную)",
          "point": [3.1, 4.0, 1.2],
          "normal": [1, 0, 0],
          "description": "Продольный разрез, направление В-З"
        },
        {
          "id": "SEC_B",
          "name": "Разрез Б (через кухню)",
          "point": [0.5, 3.0, 1.2],
          "normal": [0, 1, 0],
          "description": "Поперечный разрез, направление Ю-С"
        }
      ],
      "elevations": [
        {
          "id": "EL_S",
          "name": "Фасад Юг",
          "description": "Вид с улицы",
          "wall_ids": ["W_EXT_S"]
        },
        {
          "id": "EL_E",
          "name": "Фасад Восток",
          "wall_ids": ["W_EXT_E"]
        }
      ]
    }
  },
  "validation": {
    "total_area_m2": 74.59,
    "rooms_count": 9,
    "walls_count": 8,
    "doors_count": 5,
    "windows_count": 3
  }
}