# Промпт для генерации документации Goldex v-next

Сформируй комплект новых документов (папка `tm-docs/goldex-docs/v-next`) на основе:
- текущего описания из `tm-docs/goldex-docs/current/`
- попытки улучшения из `tm-docs/goldex-docs/robot/`

Во всей документации строго придерживайся правил из файла `правила документирования существующего кода` (формат, структура разделов, русскоязычные формулировки, требования к Mermaid с кавычками в подписях нод и условий).

## Что нужно подготовить (отдельные файлы)
1. **Workflows** — перечисли ключевые сценарии работы, последовательности шагов и ответственности сервисов. Включай sequence-diagrams и flowcharts в Mermaid там, где это повышает понимание.
2. **Предложенные изменения в структурах данных** — проанализируй текущее и робот-описание, зафиксируй предложенные модификации сущностей, полей, связей, хранения. Добавляй ER- или class-diagrams в Mermaid.
3. **Целевая схема сервисов** — опиши, как должны взаимодействовать сервисы и интерфейсы; уточни внешние зависимости. Используй архитектурные Mermaid-диаграммы.
4. **Три независимых варианта доработки структуры данных** — придумай и опиши три разных подхода к эволюции модели данных (сильные/слабые стороны, когда применять). Для каждого варианта добавляй соответствующую Mermaid-диаграмму.

## Обязательные акценты
- Учитывай потребности настройки платежных терминалов под разные проекты, возможность подключения разных сервисов.
- Отражай специфические требования к печати чеков для процессов покупки и продажи (что печатается, где настраивается, чем отличаются сценарии).
- Везде, где это уместно, используй Mermaid-диаграммы с текстами нод в двойных кавычках: `A["..."]`, `B{"..."}`.

## Формат выхода
- Каждая часть — отдельный Markdown-файл в `tm-docs/goldex-docs/v-next/` с понятным именем (`workflows.md`, `data-changes.md`, `service-architecture.md`, `data-options.md`).
- Соблюдай структуру и требования из `правила документирования существующего кода` (разделы 1–8, обязательные диаграммы, явные пометки "❓ Требует уточнения" при неопределенностях).
- Пиши на техническом русском, делай документы самодостаточными: по ним должны восстановить систему на Node.js/TypeScript без просмотра исходников.

## Что учитывать при генерации
- Сопоставляй и синхронизируй расхождения между `current` и `robot` версиями, выбирая более точные и детализированные элементы.
- Если данных не хватает, явно указывай предположения и вопросы к владельцам.
- Не копируй исходный код целиком: используй краткие выдержки только для иллюстраций ключевой логики.

# Оформление
Всю документацию оформлять в соответствии с [[правила документирования существующего кода]]![[правила документирования]]